<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive MATLAB Plot</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            padding: 20px;
        }
        canvas {
            max-width: 600px;
            margin: 20px auto;
        }
        input {
            padding: 10px;
            font-size: 16px;
            margin: 10px;
        }
        button {
            padding: 10px 15px;
            font-size: 16px;
            background-color: blue;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Interactive MATLAB Plot</h1>
    <p>Enter a value for W:</p>
    <input type="number" id="W" value="30">
    <button onclick="updatePlot()">Update Plot</button>
    <canvas id="myChart"></canvas>

    <script>
        function updatePlot() {
            let W = document.getElementById('W').value;
            let t_f = [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50];
            let exp1_cf = [0.113, 0.315, 0.518, 0.580, 0.635, 0.632, 0.608, 0.720, 0.533, 0.552, 0.582].map(x => x * (W / 30));
            let exp2_cf = [0.078, 0.420, 0.785, 0.745, 0.678, 0.718, 0.885, 0.960, 0.813, 0.855, 0.923].map(x => x * (W / 30));
            
            let ctx = document.getElementById('myChart').getContext('2d');
            if (window.myChart) {
                window.myChart.destroy();
            }
            window.myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: t_f,
                    datasets: [{
                        label: 'Exp1 c_f',
                        data: exp1_cf,
                        borderColor: 'blue',
                        fill: false
                    }, {
                        label: 'Exp2 c_f',
                        data: exp2_cf,
                        borderColor: 'red',
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Time after creatine added (min)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Concentration (mg/dL)'
                            }
                        }
                    }
                }
            });
        }

        updatePlot();
    </script>
</body>
</html>
